<div style="margin-top:60px;"></div>

<div class="container-fluid">
    <div id="title-wrapper" class="row">
        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
            <h2><?php echo $data->_detailsPane->_name; ?> <small>Point Rankings (<?php echo unserialize(RANK_SYSTEMS)[$data->_rankType]; ?>)</small></h2>
        </div>
    </div>

    <div id="top-guilds-wrapper" class="row">
        <div class="col-lg-8 col-md-7 col-sm-6 col-xs-4">
            <?php if ( !empty($data->_topGuildsArray) ): ?>
               <?php echo Template::drawTopGuildPane($data->_topGuildsArray, array('_standing', '_points')); ?>
            <?php endif; ?>
        </div>

        <div class="col-lg-4 col-md-5 col-sm-6 col-xs-4">
            <table class="table table-condensed">
                <thead>
                    <tr>
                        <th colspan="2">Dungeon Details</th>
                    </tr>
                </thead>
                <tbody>
                    <?php foreach( RankingsModel::PANE_DUNGEON as $key => $value ): ?>
                        <tr>
                            <th><?php echo $key; ?></th>
                            <td><?php echo $data->_detailsPane->$value; ?></td>
                        </tr>
                    <?php endforeach; ?>
                </tbody>
            </table>
        </div>
    </div>

    <div id="submenus" class="row">
        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
            <div class="btn-toolbar" role="toolbar" aria-label="Toolbar with button groups">
                <div class="btn-group" role="group" aria-label="First group">
                    <button type="button" class="btn btn-default"><?php echo $data->generateInternalHyperLink('world', $data->_rankType, 'World'); ?></button>
                    <button type="button" class="btn btn-default"><?php echo $data->generateInternalHyperLink('region', $data->_rankType, 'Regional'); ?></button>
                    <button type="button" class="btn btn-default"><?php echo $data->generateInternalHyperLink('server', $data->_rankType, 'Server'); ?></button>
                    <button type="button" class="btn btn-default"><?php echo $data->generateInternalHyperLink('country', $data->_rankType, 'Country'); ?></button>
                </div>

                <div class="btn-group pull-right" role="group" aria-label="Second group">
                    <?php foreach(unserialize(RANK_SYSTEMS) as $systemAbbrev => $systemName): ?>
                        <button type="button" class="btn btn-default">
                            <?php echo $data->generateInternalHyperLink($data->_view, $systemAbbrev, $systemName); ?>
                        </button>
                    <?php endforeach; ?>
                </div>
            </div>
        </div>
    </div>

    <div style="margin-top:10px;"></div>

    <div id="data" class="row">
        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
            <div class="table-responsive">
                <table class="table table-striped table-hover">
                <thead>
                </thead>
                <tbody>
                    <?php foreach( $data->_rankingsArray as $listType => $dataArray ): ?>
                        <?php echo Template::drawSubTitleTableRow($dataArray->tableFields, $dataArray->headerText); ?>

                        <?php if ( !empty($dataArray->data) ): ?>
                            <?php echo Template::drawSubHeaderTableRow($dataArray->tableFields); ?>

                            <?php foreach( $dataArray->data as $guildId => $guildDetails ): ?>
                                <?php echo Template::drawBodyTableRow($dataArray->tableFields, $guildDetails); ?>
                            <?php endforeach; ?>
                        <?php else: ?>
                            <?php echo Template::drawEmptyGuildTableRow($dataArray->tableFields, 'No guild data found.'); ?>
                        <?php endif; ?>
                    <?php endforeach; ?>
                </tbody>
                </table>
            </div>
        </div>
    </div>

    <div id="glossary" class="row">
        <div class="col-lg-5 col-md-5 col-sm-5 col-xs-5">
            <?php echo Template::drawGlossary(RankingsModel::GLOSSARY, 3); ?>
        </div>
    </div>
</div>


<!--
<div id="body-wrapper">
    <div id="body-content">
        <div class="vertical-separator"></div>

        <div id="title-wrapper">
            <div id="title-text-wrapper">
                <div id="title-main-text"><?php echo $data->_detailsPane->_name; ?></div>
                <div id="title-sub-text">Point Rankings (<?php echo unserialize(RANK_SYSTEMS)[$data->_rankType]; ?>)</div>
            </div>

            <div class="move-right">
                <?php echo Advertisement::getLeaderboardAd(); ?>
            </div>
        </div>

        <div class="clear"></div>

        <?php if ( !empty($data->_topGuildsArray) ): ?>
            <div class="vertical-separator"></div>
            <?php echo Template::drawTopGuildPane($data->_topGuildsArray, array('_standing', '_points')); ?>
        <?php endif; ?>

        <div id="page-details-wrapper">
            <?php if ( isset($data->_dungeon) ): ?>
                <table class="page-details">
                    <thead>
                        <tr>
                            <th colspan="2">Dungeon Details</th>
                        </tr>
                    </thead>
                    <tbody>
                        <?php foreach( RankingsModel::PANE_DUNGEON as $key => $value ): ?>
                            <tr>
                                <th><?php echo $key; ?></th>
                                <td><?php echo $data->_detailsPane->$value; ?></td>
                            </tr>
                        <?php endforeach; ?>
                    </tbody>
                </table>
            <?php else : ?>
                <table class="page-details">
                    <thead>
                        <tr>
                            <th colspan="2">Tier Details</th>
                        </tr>
                    </thead>
                    <tbody>
                        <?php foreach( RankingsModel::PANE_TIER as $key => $value ): ?>
                            <tr>
                                <th><?php echo $key; ?></th>
                                <td><?php echo $data->_detailsPane->$value; ?></td>
                            </tr>
                        <?php endforeach; ?>
                    </tbody>
                </table>
            <?php endif; ?>
        </div>

        <div class="clear"></div>

        <div class="vertical-separator"></div>

        <div id="submenu-1" class="move-left">
            <ul class="submenu noselect">
                <?php echo $data->generateInternalHyperLink('world', $data->_rankType, '<li>World</li>'); ?>
                <?php echo $data->generateInternalHyperLink('region', $data->_rankType, '<li>Regional</li>'); ?>
                <?php echo $data->generateInternalHyperLink('server', $data->_rankType, '<li>Server</li>'); ?>
                <!--<?php echo $data->generateInternalHyperLink('country', $data->_rankType, '<li>Country</li>'); ?>
            </ul>
        </div>

        <div id="submenu-2" class="move-right">
            <ul class="submenu">
                <?php foreach(unserialize(RANK_SYSTEMS) as $systemAbbrev => $systemName): ?>
                    <?php echo $data->generateInternalHyperLink($data->_view, $systemAbbrev, '<li>' . $systemName . '</li>'); ?>
                <?php endforeach; ?>
            </ul>
        </div>

        <div class="clear"></div>

        <div class="vertical-separator"></div>

        <div class="table-wrapper">
            <table class="listing">
                <thead>
                </thead>
                <tbody>
                    <?php foreach( $data->_rankingsArray as $listType => $dataArray ): ?>
                        <?php echo Template::drawSubTitleTableRow($dataArray->tableFields, $dataArray->headerText); ?>

                        <?php if ( !empty($dataArray->data) ): ?>
                            <?php echo Template::drawSubHeaderTableRow($dataArray->tableFields); ?>

                            <?php foreach( $dataArray->data as $guildId => $guildDetails ): ?>
                                <?php echo Template::drawBodyTableRow($dataArray->tableFields, $guildDetails); ?>
                            <?php endforeach; ?>
                        <?php else: ?>
                            <?php echo Template::drawEmptyGuildTableRow($dataArray->tableFields, 'No guild data found.'); ?>
                        <?php endif; ?>
                    <?php endforeach; ?>
                </tbody>
            </table>
        </div>

        <div class="vertical-separator"></div>

        <?php echo Template::drawGlossary(RankingsModel::GLOSSARY, 3); ?>

    </div>
</div>
-->